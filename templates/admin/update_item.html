<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update Product</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <header>
    <h2>ðŸ›’ SmartCart</h2>
    <nav>
        
        <a href="/admin/products">Products</a>
        <a href="/admin/cart">Cart</a>
        <a href="/admin/my-orders">Orders</a>
        <a href="/admin-logout">Logout</a>
    </nav>
</header>


<h2>Update Product</h2>

<!-- Flash Messages -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% for category, message in messages %}
    <p style="color:green;">{{ message }}</p>
  {% endfor %}
{% endwith %}

<form method="POST" action="/admin/update-item/{{ product.product_id }}" enctype="multipart/form-data">

    <label>Product Name:</label><br>
    <input type="text" name="name" value="{{ product.name }}" required><br><br>

    <label>Description:</label><br>
    <textarea name="description" required>{{ product.description }}</textarea><br><br>

    <label>Category:</label><br>
    <input type="text" name="category" value="{{ product.category }}" required><br><br>

    <label>Price:</label><br>
    <input type="number" step="0.01" name="price" value="{{ product.price }}" required><br><br>

    <label>Old Image:</label><br>
    <img src="/static/uploads/product_images/{{ product.image }}" width="120"><br><br>

    <label>Choose New Image (Optional):</label><br>
    <input type="file" name="image" accept="image/*"><br><br>

    <button type="submit">Update Product</button>
</form>

<br>
<a href="/admin/item-list">Back to Product List</a>

<footer class="bg-light text-center py-3">
        &copy; 2026 SmartCart bulit by Suhitha. All rights reserved.
    </footer>

</body>
</html>
